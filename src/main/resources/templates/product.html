<!DOCTYPE html>
<html xmins="http://www.thymeleaf.org" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Directory</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>

</head>
<body>

    <div class="container mx-auto">
        <div class=" mt-4 d-flex justify-content-between">
            <h2>Stock inventory </h2>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Add Product</button>
        </div>
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Add Product</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">

                        <form th:action="@{/product/save}" method="post" th:object="${product}" class="row g-3">
                            <div class="mb-3 col-md-4">
                                <label for="barcode" class="form-label">Enter Barcode</label>
                                <input type="text" class="form-control"  th:field="*{barcode}"
                                       id="barcode" placeholder="name@example.com">
                            </div>
                            <div class="mb-3 col-md-4">
                                <label for="name" class="form-label">Enter  Name</label>
                                <input type="text" class="form-control"  th:field="*{name}"
                                       id="name" placeholder="Enter Product Name">
                            </div>
                            <div class="mb-3  col-md-4">
                                <label for="category" class="form-label">Enter  Category</label>
                                <select th:field="*{category}" id="category" class="form-select form-select-lg mb-3" aria-label="Category">
                                    <option th:each="category: ${categories}"
                                            th:text="${category.name}" th:value="${category.id}">
                                    </option>
                                </select>
                            </div>
                            <div class="mb-3 col-md-12">
                                <label for="description" class="form-label">Enter  Description</label>
                                <input type="text" class="form-control"  th:field="*{description}"
                                       id="description" placeholder="Enter Product Name">
                            </div>

                            <div class="mb-3 col-md-4">
                                <label for="costPrice" class="form-label">Enter Cost Price</label>
                                <input type="text" class="form-control"  th:field="*{costPrice}"
                                       id="costPrice" placeholder="Enter Cost Price">
                            </div>
                            <div class="mb-3 col-md-4">
                                <label for="sellingPrice" class="form-label">Enter Selling Price</label>
                                <input type="text" class="form-control"  th:field="*{sellingPrice}"
                                       id="sellingPrice" placeholder="Enter Selling price Price">
                            </div>
                            <div class="mb-3 col-md-4">
                                <label for="qty" class="form-label">Enter Quantity</label>
                                <input type="number" class="form-control"  th:field="*{qty}"
                                       id="qty" placeholder="Enter Quantity">
                            </div>

                            <div class="mb-3  col-md-">
                                <label for="shops" class="form-label">Select  Shops</label>
                                <select th:field="*{shops}" id="shops" class="form-select form-select-lg mb-3" aria-label="Category">
                                    <option th:each="shop : ${shops}" th:text="${shop.name}" th:value="${shop.id}">
                                    </option>
                                </select>
                            </div>

                            <div class="mb-3 col-md-6">
                                <label for="manufacturedDate" class="form-label">Enter Manufactured</label>
                                <input type="date" class="form-control"  th:field="*{manufacturedDate}"
                                       id="manufacturedDate" placeholder="Enter Quantity">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label for="expirationDate" class="form-label">Enter Expiration Date</label>
                                <input type="date" class="form-control"  th:field="*{expirationDate}"
                                       id="expirationDate" placeholder="Enter Quantity">
                            </div>
                            <div class="mb-3 col-md-6">
                                <label for="instocks" class="form-label">InStock</label>
                                <input type="text" class="form-control"  th:field="*{instocks}"
                                       id="instocks" placeholder="Enter Quantity">
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Add</button>
                            </div>
                        </form>

                    </div>

                </div>
            </div>
        </div>






    <table class="table table-striped">
        <thead class="bg-black text-white">
        <tr>
            <th class="   border-slate-300">S/N</th>
            <th class="   border-slate-300">barcode</th>
            <th class=" border-slate-300">categories</th>
            <th class=" border-slate-300">name</th>
            <th class=" border-slate-300">expiration date</th>
            <th class=" border-slate-300">price</th>
            <th class=" border-slate-300">date created</th>
            <th class=" border-slate-300">description</th>
            <th class=" border-slate-300">qty</th>
            <th class=" border-slate-300">instocks</th>
            <th class=" border-slate-300">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr class="py-4 px-2" th:each="product,index : ${products} ">

            <td class="border border-slate-300 py-4 px-2" th:text="${index.index + 1}">
            <td class="border border-slate-300 py-4 px-2" th:text="${product.barcode}">
            <td class="border border-slate-300 px-2" th:text="${product.category.name}">
            <td class="border border-slate-300 px-2" th:text="${product.name}">
            <td class="border border-slate-300 px-2" th:text="${product.expirationDate}">
            <td class="border border-slate-300 px-2" th:text="${product.sellingPrice}">
            <td class="border border-slate-300 px-2" th:text="${product.dateCreated}">
            <td class="border border-slate-300 px-2" th:text="${product.description}">
            <td class="border border-slate-300 px-2" th:text="${product.qty}">
            <td class="border border-slate-300 px-2" th:text="${product.instocks}">
            <td class="border border-slate-300 px-2">
                <a th:href="@{/product/update{productId}(productId=${product.id})}"
                   class="mx-auto rounded-lg bg-cyan-800 px-4 py-2 text-white">
                    Update
                </a>

                <a th:href="@{/product/delete(productId=${product.id})}"
                   class="mx-auto rounded-lg ml-4 bg-red-500 px-4 py-2 text-white"
                   onclick="if(!(confirm('Are you sure you want to delete this employee?'))) return false"
                >
                    Delete
                </a>
            </td>

        </tr>
        </tbody>
    </table>
    </div>

<!--    java script-->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>